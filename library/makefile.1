CC	?=	gcc
CCFLAGS	?=	-O3	-fPIC
LDLAGS	?=	-O3
EXT	?=	dll
BIN_DIR	=	bin
OBJ_DIR	=	obj
PRG_NAME	=	libOperations_Vladislav_Razoronov_Var1
OBJS	=	blocksort.o	bzlib.o	compress.o	crctable.o	decompress.o	huffman.o	randtable.o

all:	$(BIN_DIR)/$(PRG_NAME).$(EXT)

-include	$(OBJS:.o=.d)

$(BIN_DIR)/$(PRG_NAME).$(EXT):	$(OBJS)
	$(CC)	$(LDLAGS)	$^	-o	$@

$(OBJ_DIR)/blocksort.o:	blocksort.c	bzlib.h	bzlib_private.h
	$(CC)	-c	blocksort.c	$(CCFLAGS)

$(OBJ_DIR)/bzlib.o:	bzlib.c	bzlib.h	bzlib_private.h
	$(CC)	-c	bzlib.c	$(CCFLAGS)

$(OBJ_DIR)/compress.o:	compress.c	bzlib.h	bzlib_private.h
	$(CC)	-c	compress.c	$(CCFLAGS)

$(OBJ_DIR)/crctable.o:	crctable.c	bzlib.h	bzlib_private.h
	$(CC)	-c	crctable.c	$(CCFLAGS)

$(OBJ_DIR)/decompress.o:	decompress.c	bzlib.h	bzlib_private.h
	$(CC)	-c	decompress.c	$(CCFLAGS)

$(OBJ_DIR)/huffman.o:	huffman.c	bzlib.h	bzlib_private.h
	$(CC)	-c	huffman.c	$(CCFLAGS)

$(OBJ_DIR)/randtable.o:	randtable.c	bzlib.h	bzlib_private.h
	$(CC)	-c	randtable.c	$(CCFLAGS)

$(OBJ_DIR)/crctable.o:	crctable.c	bzlib.h	bzlib_private.h
	$(CC)	-c	crctable.c	$(CCFLAGS)

.PHONY	:	clean
clean:
	rm	-rf	$(OBJ_DIR)/*.o	$(OBJ_DIR)/*.d	$(BIN_DIR)/$(PRG_NAME).$(EXT)